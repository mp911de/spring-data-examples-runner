language: java

jdk:
  - oraclejdk8

env:
  matrix:
    - DUMMY=run-as-is
    - PROFILE=spring-data-next
    - PROFILE=spring-data-next-releasetrain
    - PROFILE=spring-data-next-releasetrain-released
    - PROFILE=hibernate-53
    - BOOT=2.0.0.BUILD-SNAPSHOT
    - BOOT=2.0.0.BUILD-SNAPSHOT PROFILE=spring-data-next
    - BOOT=2.0.0.BUILD-SNAPSHOT PROFILE=spring-data-next-releasetrain
    - BOOT=2.0.0.BUILD-SNAPSHOT PROFILE=spring-data-next-releasetrain-released
    - BOOT=2.0.0.BUILD-SNAPSHOT PROFILE=hibernate-53

addons:
  apt:
    packages:
    - oracle-java8-installer

services:
  - redis-server

cache:
  directories:
    - $HOME/.m2

sudo: false

before_install:
  - sed -i.bak -e 's|https://nexus.codehaus.org/snapshots/|https://oss.sonatype.org/content/repositories/codehaus-snapshots/|g' ~/.m2/settings.xml


install: true

script:
 - git clone https://github.com/spring-projects/spring-data-examples.git
 - ./run.sh
